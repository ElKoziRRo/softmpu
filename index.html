<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>SoftMPU by bjt42</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>SoftMPU</h1>
        <p>An MPU-401 emulation TSR for DOS</p>
        <p class="view"><a href="https://github.com/bjt42/softmpu">View the Project on GitHub <small>bjt42/softmpu</small></a></p>
        <ul>
          <li><a href="https://github.com/bjt42/softmpu/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/bjt42/softmpu/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/bjt42/softmpu">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><strong>Update 16/06/14</strong> - SoftMPU 1.9 is out! This release adds support for large SYSEX messages.</p>

<p><strong>Update 20/02/14</strong> - SoftMPU 1.8 is out! This release adds support for serial MIDI output, improves performance on slower systems and fixes compatibility with ESS ISA chipsets.</p>

<hr><p><strong>Download SoftMPU here:</strong> <a href="http://github.com/bjt42/softmpu/archive/v1.9.zip">http://github.com/bjt42/softmpu/archive/v1.9.zip</a></p>

<p><strong>Discuss SoftMPU here:</strong> <a href="http://www.vogons.org/viewforum.php?f=57">http://www.vogons.org/viewforum.php?f=57</a></p>

<p><strong>Compatibility lists &amp; serial MIDI cable pinouts:</strong> <a href="http://github.com/bjt42/softmpu/wiki">http://github.com/bjt42/softmpu/wiki</a></p>

<hr><h2>
<a name="softmpu-19---software-mpu-401-emulator" class="anchor" href="#softmpu-19---software-mpu-401-emulator"><span class="octicon octicon-link"></span></a>SoftMPU 1.9 - Software MPU-401 Emulator</h2>

<p>Copyright (C) 2013-2014  bjt, elianda
Copyright (C) 2002-2013  The DOSBox Team</p>

<p>Release Notes (16/06/14)</p>

<h3>
<a name="what-is-it" class="anchor" href="#what-is-it"><span class="octicon octicon-link"></span></a>WHAT IS IT?</h3>

<p>SoftMPU is a DOS TSR that emulates an 'intelligent mode' hardware MPU-401
interface. It's designed to work in tandem with the MIDI interfaces found on
Sound Blaster and other common sound cards.</p>

<h3>
<a name="whys-this-useful" class="anchor" href="#whys-this-useful"><span class="octicon octicon-link"></span></a>WHY'S THIS USEFUL?</h3>

<p>Games from the late 80s and early 90s that support music via the Roland
MT-32/CM-32L often expect to find a hardware MPU-401 interface that supports
'intelligent mode'. These are now expensive and difficult to find.</p>

<p>By supporting the 'intelligent mode' features in software, these games will
work with the basic MIDI interfaces found on sound cards.</p>

<h3>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>REQUIREMENTS</h3>

<ul>
<li>EMM386 4.46+ (MS-DOS 6.2) or QEMM 7.03+</li>
<li>Sound Blaster (or compatible) sound card (MPU-401 &amp; SB-MIDI mode)</li>
<li>Serial port (Serial MIDI mode)</li>
</ul><h3>
<a name="using-softmpu-mpu-401--sb-midi-mode" class="anchor" href="#using-softmpu-mpu-401--sb-midi-mode"><span class="octicon octicon-link"></span></a>USING SOFTMPU: MPU-401 &amp; SB-MIDI MODE</h3>

<p>Run SoftMPU specifying the base port address and interrupt of your Sound
Blaster, and the base port address of the MPU-401 interface, e.g.</p>

<p><code>SOFTMPU.EXE /SB:220 /IRQ:5 /MPU:330</code></p>

<p>The optional <code>/OUTPUT:SBMIDI</code> switch forces Sound Blaster MIDI to be used. This
mode is intended for use with the Sound Blaster Pro 2 and other sound cards
without a hardware MPU-401 interface. Game compatibility may be reduced.</p>

<h3>
<a name="using-softmpu-serial-midi-mode" class="anchor" href="#using-softmpu-serial-midi-mode"><span class="octicon octicon-link"></span></a>USING SOFTMPU: SERIAL MIDI MODE</h3>

<p>Run SoftMPU specifying the serial interface to be used and the base port
address of the MPU-401 interface, e.g.</p>

<p><code>SOFTMPU.EXE /MPU:330 /OUTPUT:COM1</code></p>

<p>A Sound Blaster base port address and IRQ can optionally be specified if
MPU-401 interrupts are required.</p>

<h3>
<a name="further-options" class="anchor" href="#further-options"><span class="octicon octicon-link"></span></a>FURTHER OPTIONS</h3>

<p>The optional <code>/DELAYSYSEX</code> switch enables small transmission delays to prevent
buffer overflow with the Rev.0 MT-32.</p>

<p>The optional <code>/RA50</code> switch enables simulated "All Notes Off" commands for
compatibility with the Roland RA-50.</p>

<p>SoftMPU will remain active until the PC is restarted. It occupies
approximately 8KB and can be loaded into high memory using the LH command.</p>

<h3>
<a name="troubleshooting" class="anchor" href="#troubleshooting"><span class="octicon octicon-link"></span></a>TROUBLESHOOTING</h3>

<p><strong>Problem:</strong>  When using a PS/2 mouse, moving the cursor causes slow playback.
<strong>Solution:</strong> Use a mouse driver that supports direct hardware access e.g.
              CuteMouse 2.0 (but not 2.1).</p>

<p><strong>Problem:</strong>  Some games expect to find an MPU interface on IRQ 2, but my sound
              but my sound card doesn't support it.
<strong>Solution:</strong> Configure your sound card to use IRQ 9.</p>

<p><strong>Problem:</strong>  SoftMPU can't find a hardware MPU interface when using a Sound
              Blaster Pro 2 or older sound card.
<strong>Solution</strong>: Run SoftMPU with the <code>/OUTPUT:SBMIDI</code> switch.</p>

<p><strong>Problem:</strong>  My Rev.0 MT-32 displays "EXC. BUFFER OVERFLOW". Music playback sounds incorrect.
<strong>Solution:</strong> Run SoftMPU with the <code>/DELAYSYSEX</code> switch.</p>

<p><strong>Problem:</strong>  Music playback stops working after running a specific program.
<strong>Solution:</strong> Restart your PC. Software that reprograms the Real-Time Clock will
              stop SoftMPU from working correctly.</p>

<h3>
<a name="further-info" class="anchor" href="#further-info"><span class="octicon octicon-link"></span></a>FURTHER INFO</h3>

<p>For compatibility information and serial MIDI cable pinouts, please see
<a href="http://github.com/bjt42/softmpu/wiki">http://github.com/bjt42/softmpu/wiki</a>.</p>

<h3>
<a name="building-softmpu" class="anchor" href="#building-softmpu"><span class="octicon octicon-link"></span></a>BUILDING SOFTMPU</h3>

<p>Microsoft C 6.0A &amp; MASM 6.11 are required (earlier versions may work, but are
untested).</p>

<p>The default install directories are C:\C600 and C:\MASM611. You will need to
edit BUILD.BAT if you have selected different install directories.</p>

<p>Run BUILD.BAT to build SOFTMPU.EXE in the current directory.</p>

<h3>
<a name="distribution" class="anchor" href="#distribution"><span class="octicon octicon-link"></span></a>DISTRIBUTION</h3>

<p>SoftMPU is distributed under the GNU General Public License. Please read
LICENSE for further information.</p>

<h3>
<a name="special-thanks" class="anchor" href="#special-thanks"><span class="octicon octicon-link"></span></a>SPECIAL THANKS</h3>

<ul>
<li>The DOSBox Team for their intelligent mode MPU-401 emulation code. SoftMPU
couldn't exist without it!</li>
<li>Forum members at <a href="http://www.vogons.org">www.vogons.org</a> for their encouragement and advice :)</li>
</ul>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/bjt42">bjt42</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-41968860-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>